<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>FriendFinder</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>
    <h1>Survey Questions</h1>
    <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" class="name">
    </div>
    <form>
        <div class="form-row align-items-center" id='questionPanel'></div>
    </form>
    <button class="btn btn-primary btn-lg" id="submitButton"><span class="fa fa-plus"></span>Submit</button>
    <footer>
        <a href="/api/friends">API: Friend List</a>
    </footer>

    <script>
        var questions = [
            "I love burgers",
            "I love movies",
            "I love music",
            "I love tv shows",
            "I love coding",
            "I love coding",
            "I love coding",
            "I love coding",
            "I love coding",
            "I love coding",
            "I love coding",
        ];

        for (var i = 0; i < questions.length; i++) {
            $("#questionPanel").append(`<h3>${questions[i]}</h3>
        
            <div style="float: left" class="col-auto my-1">
                <label class="mr-sm-2 sr-only" for="inlineFormCustomSelect">Preference</label>
                <select id="question${i}" class="custom-select mr-sm-2" id="inlineFormCustomSelect">
                    <option selected>Choose...</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            `);
        }

        $("#submitButton").on("click", function () {
            event.preventDefault();
            var newFriend = {
                name: $(".name").val(),
                scores: [
                    $("#question1").val(),
                    $("#question2").val(),
                    $("#question3").val(),
                    $("#question4").val(),
                    $("#question5").val(),
                    $("#question6").val(),
                    $("#question7").val(),
                    $("#question8").val(),
                    $("#question9").val(),
                    $("#question10").val()
                ]
            }
            console.log(newFriend)
            $.post("api/friends", newFriend)
        })
    </script>
</body>

</html>